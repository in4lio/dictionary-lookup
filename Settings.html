<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <link rel="stylesheet" href="https://ssl.gstatic.com/docs/script/css/add-ons1.css">
    <!-- The CSS package above applies Google styling to buttons and other elements. -->
    <style>
    .col-contain {
      overflow: hidden;
    }
    .col-one {
      float: left;
      width: 30%;
    }
    .col-two {
      float: left;
      width: 70%;
    }
    input[name=caption] {
      width: 95%;
      margin: 4px 0;
    }
    input[name=url] {
      width: 100%;
      margin: 4px 0;
    }
    </style>
  </head>
  <body>
    <div>
      <form>
        <div class="block col-contain">
          <div class="col-one">
            <b>Caption</b>
            <?
            var data = PropertiesService.getUserProperties().getProperties();
            for (var i = 0; i < data.count; i++) {
              var val = '';
              if ('dict' + i in data) {
                val = data['dict' + i].split(',', 2)[0].trim();
              }
            ?>
              <div><input type="text" name="caption" id="caption-<?= i ?>" value="<?= val ?>"></div>
            <?
            }
            ?>
          </div>
          <div class="col-two">
            <b>URL</b><span style="color: DodgerBlue;"> (%s = a word or selected text)</span>
            <?
            for (var i = 0; i < data.count; i++) {
              var val = '';
              if ('dict' + i in data) {
                val = data['dict' + i].split(',', 2)[1].trim();
              }
            ?>
              <div><input type="text" name="url" id="url-<?= i ?>" value="<?= val ?>"></div>
            <?
            }
            ?>
          </div>
        </div>
       <div class="block" id="button-bar">
          <button id="run-translation" class="blue">Save</button>
          <button onclick="google.script.host.close()">Cancel</button>
          <button id="insert-text"style="float: right;">Default</button>
        </div>
      </form>
    </div>
    <script>
    </script>
  </body>
</html>
